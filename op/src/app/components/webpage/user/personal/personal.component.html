<div class="m-business">
  <div class="m-cv-title">
    <span>Personal information</span>
    <p>Edit a personal information </p>
  </div>
  <form [formGroup]="personalInformationForm" (ngSubmit)="addProfile()" xmlns:date="http://www.w3.org/1999/xhtml">
    <mat-vertical-stepper #stepper>

      <mat-step>
        <ng-template matStepLabel>Personal information</ng-template>

        <mat-form-field fxLayout="column">
          <input matInput placeholder="first name" formControlName="firstName" required>
        </mat-form-field>

        <mat-form-field fxLayout="column">
          <input matInput placeholder="last name" formControlName="surname" required>
        </mat-form-field>

        <app-date-picker formControlName="birthday" mFxLayout="100"></app-date-picker>

        <mat-form-field fxLayout="column">
          <input matInput placeholder="phone number" formControlName="phoneNo" required>
        </mat-form-field>

        <div>
          <button type="button" mat-raised-button color="primary" matStepperNext fxFlexAlign="flex-end">Next</button>
        </div>

      </mat-step>


      <mat-step>
        <ng-container formGroupName="address">
          <ng-template matStepLabel>Fill out your address</ng-template>

          <mat-form-field fxLayout="column">
            <input matInput placeholder="street" formControlName="street" required>
          </mat-form-field>

          <mat-form-field fxLayout="column">
            <input matInput placeholder="post code" formControlName="postcode" required>
          </mat-form-field>

          <mat-form-field fxLayout="column">
            <input matInput placeholder="city" formControlName="city" required>
          </mat-form-field>
          <mat-form-field fxLayout="column">
            <input matInput placeholder="country" formControlName="country" required>
          </mat-form-field>

          <div fxLayoutGap="20px">
            <button type="button" mat-raised-button color="primary" matStepperPrevious>Back</button>
            <button type="button" mat-raised-button color="primary" matStepperNext>Next</button>
          </div>
        </ng-container>
      </mat-step>


      <mat-step>
        <ng-template matStepLabel>Done</ng-template>

        <div fxLayoutGap="20px">
          <button type="button" mat-raised-button color="primary" matStepperPrevious>Back</button>
          <ng-container *ngIf="personalInformationForm.valid && personalInformationForm.touched; else elseBlock">
            <button type="submit" mat-raised-button color="primary">save</button>
          </ng-container>
          <br>
          <ng-template #elseBlock>
            <ng-container *ngIf="personalInformationForm.valid; else elseFill">
              your information is up to date!
            </ng-container>
            <ng-template #elseFill>
              fill all required fields to save
            </ng-template>
          </ng-template>

        </div>

      </mat-step>

    </mat-vertical-stepper>
  </form>
</div>
